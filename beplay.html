<!DOCTYPE html> 
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beplay | Bem Esportivo</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: 'Rubik', sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      text-align: center;
      padding: 30px 20px;
      border-bottom: 2px solid #fa8a01;
    }

    header img {
      max-width: 180px;
      margin-bottom: 10px;
    }

    header p {
      font-size: 1.1rem;
      color: #ccc;
    }

    .videos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      padding: 30px;
    }

    .video-card {
      background: #111;
      border-radius: 12px;
      padding: 15px;
      transition: transform 0.3s ease;
      position: relative;
    }

    .video-card:hover {
      transform: scale(1.03);
      box-shadow: 0 0 15px rgba(250, 138, 1, 0.5);
    }

    .video-thumb {
      width: 100%;
      height: 200px;
      border-radius: 10px;
      object-fit: cover;
      margin-bottom: 10px;
      background-size: cover;
      background-position: center;
    }

    .video-card h3 {
      margin: 10px 0;
      font-size: 1.2rem;
      color: #fa8a01;
      text-align: center;
    }

    .btn-play {
      display: inline-block;
      margin: 8px auto;
      padding: 10px 18px;
      background: #fa8a01;
      color: #000;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      transition: 0.3s;
      cursor: pointer;
    }

    .btn-play:hover {
      background: #fff;
      color: #000;
    }

    footer {
      text-align: center;
      padding: 20px;
      background: #111;
      color: #888;
      font-size: 0.9rem;
    }

    /* === Intera√ß√µes === */
    .interacao {
      display: flex;
      justify-content: space-around;
      margin-top: 10px;
    }

    .interacao button {
      background: none;
      border: none;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .interacao button:hover {
      transform: scale(1.1);
      color: #fa8a01;
    }

    .comentarios {
      margin-top: 15px;
      display: none;
    }

    .lista-comentarios {
      list-style: none;
      padding: 0;
      margin: 0 0 10px;
      max-height: 250px;
      overflow-y: auto;
    }

    .lista-comentarios li {
      background: #222;
      padding: 6px 10px;
      border-radius: 8px;
      margin-bottom: 5px;
      font-size: 14px;
      word-break: break-word;
    }

    .input-comentario {
      width: 70%;
      padding: 8px;
      border-radius: 8px;
      border: none;
      outline: none;
    }

    .enviar-comentario {
      background: #fa8a01;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      margin-left: 5px;
      cursor: pointer;
      color: #000;
      font-weight: bold;
    }

    .btn-retorno {
      background: #fa8a01;
      color: #000;
      padding: 10px 15px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: 0.3s;
    }

    .btn-retorno:hover {
      background: #fff;
      color: #000;
    }

    /* === Modal === */
    .modal {
      display: none; 
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      position: relative;
      background: #000;
      padding: 10px;
      border-radius: 12px;
      max-width: 900px;
      width: 90%;
      max-height: 90%;
      overflow-y: auto;
    }

    .modal-content iframe {
      width: 100%;
      height: 500px;
      border-radius: 12px;
    }

    .close {
      position: absolute;
      top: 10px; /* dentro do modal */
      right: 0;
      font-size: 30px;
      color: #fff;
      cursor: pointer;
    }

    /* === Postagens do Usu√°rio === */
    .user-posts {
      padding: 30px;
      background: #111;
      margin-top: 20px;
      border-top: 2px solid #fa8a01;
    }

    .user-posts h2 {
      color: #fa8a01;
      text-align: center;
    }

    .upload-box {
      text-align: center;
      margin-bottom: 20px;
    }

    .upload-box input {
      margin: 10px 0;
    }

    .post {
      background: #222;
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .post img, .post video {
      max-width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .like-btn {
      background: none;
      border: none;
      color: #fa8a01;
      font-size: 18px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <header>
    <img src="img/beplay.jpg" alt="Beplay Logo">
    <div class="banner-video">
      <video autoplay muted loop playsinline>
        <source src="videos/vinheta.mp4.mp4" type="video/mp4">
        Seu navegador n√£o suporta v√≠deo.
      </video>
    </div>
  </header>

  <main>
    <section class="videos-grid">
      <!-- V√≠deo 1 -->
      <div class="video-card" data-video="https://www.youtube.com/embed/gBkon6LC2OU">
        <div class="video-thumb"></div>
        <h3>Treino T√©cnico e T√°tico</h3>
        <button class="btn-play">‚ñ∂ Assistir Agora</button>
      </div>

      <!-- V√≠deo 2 -->
      <div class="video-card" data-video="https://www.youtube.com/embed/Qi1lRW18kvM">
        <div class="video-thumb"></div>
        <h3>Duda e o Futebol</h3>
        <button class="btn-play">‚ñ∂ Assistir Agora</button>
      </div>

      <!-- V√≠deo 3 -->
      <div class="video-card" data-video="https://www.youtube.com/embed/dYiX4fvxGG8">
        <div class="video-thumb"></div>
        <h3>Futebol e Areia</h3>
        <button class="btn-play">‚ñ∂ Assistir Agora</button>
      </div>
    </section>

    <!-- Postagens dos usu√°rios -->
    <section class="user-posts">
      <h2>Compartilhe seu momento esportivo</h2>
      <div class="upload-box">
        <input type="file" id="uploadInput" accept="image/*,video/*">
        <button id="uploadBtn" class="btn-play">Enviar</button>
      </div>
      <div id="postsContainer"></div>
    </section>
  </main>

  <div style="text-align: center; margin: 20px;">
    <a href="index.html" class="btn-retorno">‚¨Ö Voltar para In√≠cio</a>
  </div>

  <section id="ranking" style="padding:30px; background:#111; margin-top:30px; border-top:2px solid #fa8a01;">
  <h2 style="color:#fa8a01; text-align:center;">üèÜ Ranking dos Mais Curtidos</h2>
  <ul id="ranking-list" style="list-style:none; padding:0; margin-top:20px; max-width:600px; margin-left:auto; margin-right:auto; font-size:1.1rem; color:#fff;">
    <!-- Aqui os itens do ranking ser√£o inseridos pelo JS -->
  </ul>
</section>


  <footer>
    &copy; 2025 Bem Esportivo - Beplay
  </footer>

  <!-- === Modal === -->
  <div id="videoModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <iframe src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    const tiposPermitidos = ["image/png","image/jpeg","image/jpg","video/mp4","video/webm","video/ogg"];

    function arquivoSeguro(file) {
      return tiposPermitidos.includes(file.type);
    }

    // Gera thumbnails dos v√≠deos
    document.querySelectorAll(".video-card").forEach(card => {
      const videoUrl = card.getAttribute("data-video");
      const videoId = videoUrl.split("/embed/")[1];
      const thumbUrl = `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
      card.querySelector(".video-thumb").style.backgroundImage = `url(${thumbUrl})`;
    });

    const modal = document.getElementById("videoModal");
    const modalIframe = modal.querySelector("iframe");
    const closeBtn = modal.querySelector(".close");

    // Abrir modal
    document.querySelectorAll(".btn-play").forEach(btn => {
      btn.addEventListener("click", (e) => {
        const card = e.target.closest(".video-card");
        if (!card) return; // evita conflito com uploadBtn
        const videoUrl = card.getAttribute("data-video");
        if (videoUrl) {
          modal.style.display = "flex";
          modalIframe.src = videoUrl + "?autoplay=1";
        }
      });
    });

    // Fechar modal
    function fecharModal(){
      modal.style.display = "none";
      modalIframe.src = "";
    }

    closeBtn.addEventListener("click", fecharModal);
    window.addEventListener("click", e => { if(e.target === modal) fecharModal(); });
    window.addEventListener("keydown", e => { if(e.key === "Escape") fecharModal(); });

    // === Sistema de postagens ===
    const uploadInput = document.getElementById("uploadInput");
    const uploadBtn = document.getElementById("uploadBtn");
    const postsContainer = document.getElementById("postsContainer");

    let posts = JSON.parse(localStorage.getItem("userPosts")) || [];

    function renderPosts(){
      postsContainer.innerHTML = "";
      posts.forEach((post, index) => {
        const div = document.createElement("div");
        div.classList.add("post");

        if(post.type === "image"){
          const img = document.createElement("img");
          img.src = post.content;
          div.appendChild(img);
        } else if(post.type === "video"){
          const vid = document.createElement("video");
          vid.src = post.content;
          vid.controls = true;
          div.appendChild(vid);
        }

        const likeBtn = document.createElement("button");
        likeBtn.classList.add("like-btn");
        likeBtn.innerHTML = `‚ù§Ô∏è ${post.likes}`;
        likeBtn.addEventListener("click", () => {
          posts[index].likes++;
          localStorage.setItem("userPosts", JSON.stringify(posts));
          renderPosts();
        });

        div.appendChild(likeBtn);
        postsContainer.appendChild(div);
      });
    }

    renderPosts();

    uploadBtn.addEventListener("click", () => {
      const file = uploadInput.files[0];
      if(!file){ alert("Selecione um arquivo!"); return; }
      if(!arquivoSeguro(file)){ alert("Formato n√£o permitido."); return; }

      const reader = new FileReader();
      reader.onload = (event) => {
        let newPost = {type:"", content:event.target.result, likes:0};
        if(file.type.startsWith("image/")) newPost.type = "image";
        else if(file.type.startsWith("video/")) newPost.type = "video";

        posts.unshift(newPost);
        localStorage.setItem("userPosts", JSON.stringify(posts));
        renderPosts();
      };
      reader.readAsDataURL(file);
      uploadInput.value = "";
    });

// === Ranking dos Mais Curtidos ===
function atualizarRanking() {
  const rankingList = document.getElementById("ranking-list");
  rankingList.innerHTML = "";

  let itens = [];

  // pegar v√≠deos
  document.querySelectorAll(".video-card").forEach((card, i) => {
    const titulo = card.querySelector("h3").innerText;
    const curtidas = parseInt(card.querySelector(".curtidas").innerText);
    itens.push({titulo, curtidas});
  });

  // pegar posts dos usu√°rios
  document.querySelectorAll(".user-post").forEach((post, i) => {
    const titulo = "Post do Usu√°rio " + (i+1);
    const curtidas = parseInt(post.querySelector(".curtidas").innerText);
    itens.push({titulo, curtidas});
  });

  // ordenar por curtidas (maior primeiro)
  itens.sort((a, b) => b.curtidas - a.curtidas);

  // mostrar no ranking
  itens.forEach(item => {
    if(item.curtidas > 0){ // s√≥ aparece quem tem curtidas
      const li = document.createElement("li");
      li.textContent = `${item.titulo} ‚Äî ‚ù§Ô∏è ${item.curtidas}`;
      rankingList.appendChild(li);
    }
  });
}

// Atualizar sempre que clicar em curtir
document.querySelectorAll(".curtir").forEach(btn => {
  btn.addEventListener("click", () => {
    const span = btn.querySelector(".curtidas");
    span.textContent = parseInt(span.textContent) + 1;
    atualizarRanking();
  });
});


  </script>
</body>
</html>


